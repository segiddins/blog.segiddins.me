<!DOCTYPE html><html lang="en-en"><head><title>Residency Update</title><meta charset="utf-8" /><meta content="samuel giddins" name="keywords" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="" name="description" /><meta content="" name="author" /><meta content="True" name="HandheldFriendly" /><meta content="320" name="MobileOptimized" /><link href="../../../../stylesheets/app.css" rel="stylesheet" type="text/css" /><script src="../../../../scripts/app.js" type="text/javascript"></script></head><body class="home blog"><div id="container"><header class="header"><div class="wrap clearfix" id="inner-header"><div class="h1" id="site-title"><a href="//segiddins.me" rel="nofollow">Samuel Giddins</a></div><div id="site-description"><h2>Staff Software Engineer</h2></div><section class="social wrap"><div><a class="symbol" href="https://github.com/segiddins" rel="me" title="&#xe237;"></a><a class="symbol" href="mailto:segiddins@segiddins.me" rel="me" title="&#xe024;"></a><a class="symbol" href="tel:9178873993" rel="me" title="&#xe049;"></a><a href='https://www.linkedin.com/in/segiddins' rel="me" class='symbol' title='&#xe052;'></a></div></section><nav id="site-navigation"><ul><li><a href="//segiddins.me">About Me</a></li><li><a href="//blog.segiddins.me">Blog</a></li><li><a href="//blog.segiddins.me/rss">RSS</a></li></ul></nav></div></header><article class="wrap hentry clearfix"><header class="article-header"><h1 class="h2"><h2 class="h2"><a href="/2024/01/26/residency-update/" title="Residency Update">Residency Update</a></h2></h1><p class="byline vcard"><span>By </span><span class="author"><a href="https://twitter.com/segiddins">Samuel Giddins</a></span><span> on </span><time class="updated">Friday, January 26th, 2024</time></p></header><section class="entry-content clearfix"><p>Welcome to my first (very late to be published) update as <a href="https://rubycentral.org/news/ruby-central-welcomes-new-software-engineer-in-residence-sponsored-by-aws/">Ruby Central&rsquo;s security engineer in residence, sponsored by AWS</a>.</p>

<p>My goal is to write a short update every week, chronicling what I&rsquo;ve been working on, and reminding myself that I was, in fact, productive.</p>

<p>This week, I focused on updating rubygems.org&rsquo;s rack to v3 and rails defaults to 7.1, as well as kicking work on the security events log into high gear.</p>



<h2 id="rack-upgrade">Rack Upgrade</h2>

<p>That this upgrade was difficult was entirely self-inflicted. Rack 3 <a href="#">optimized parsing of form keys</a>, which broke some custom form shenanigans I had done on our admin dashboard. I spent a while trying to fix it in a more rails-y way, but <a href="#">monkey patching</a> was easiest solution.</p>

<h2 id="rails-7-1-framework-defaults">Rails 7.1 Framework Defaults</h2>

<p>We upgraded to Rails 7.0 a while back, and Rails 7.1 this past month, so it was just a bit of cleanup work to update to the newer framework defaults.
This is regular maintenance, but it&rsquo;s important to keep up with the latest versions of the frameworks we use.</p>

<h2 id="soft-deleting-users">Soft-Deleting Users</h2>

<p>This has been on our wish list for a while. Not many users end up deleting their accounts, when they did, it made it hard to track what they had done. We&rsquo;re now <a href="https://github.com/rubygems/rubygems.org/pull/4376">soft-deleting users</a>, which means they&rsquo;re not actually deleted from the database, but are marked as deleted (and all personal information overwritten). This is largely an internal change, but it helps make the next feature far more useful.</p>

<h2 id="security-events-log">Security Events Log</h2>

<p>This is the big thing I&rsquo;ve been working on. I spent a bunch of time refactoring, and think I&rsquo;ve landed on a solution that isn&rsquo;t too much code, and isn&rsquo;t too much magic either. As things stand now, stuff is pretty well DRY&rsquo;d up between events on gems &amp; events on users, so I&rsquo;m reasonably happy.</p>

<p>Along with the feature work here, I ended up implementing support for viewing them in our admin dashboard, as well as further introducing the use of components to our rails views (which I&rsquo;m a big fan of).</p>
</section><footer class="article-footer"></footer></article><footer class="container footer"><div class="clearfix" id="inner-footer"><section class="recent wrap sevencol first clearfix"><nav class="pagination"><a class="newer-posts" href="/2022/10/23/nostalgia/">&larr; Previous</a><span class="page-number">Page 54 of 59</span><a class="older-posts" href="/2024/02/02/residency-update/">Next &rarr;</a><p><a href="//blog.segiddins.me/archive">Archive</a></p></nav></section><section class="sidebar fivecol clearfix"><header class="sidebar-header"><h3>Samuel Giddins</h3><h4>Staff Software Engineer</h4></header><nav class="sidebar-menu vertical"><ul><li><a href="//segiddins.me">About Me</a><span> | </span></li><li><a href="//blog.segiddins.me">Blog</a><span> | </span></li><li><a href="//blog.segiddins.me/rss">RSS</a></li></ul></nav><section class="social wrap"><div><a class="symbol" href="https://github.com/segiddins" rel="me" title="&#xe237;"></a><a class="symbol" href="mailto:segiddins@segiddins.me" rel="me" title="&#xe024;"></a><a class="symbol" href="tel:9178873993" rel="me" title="&#xe049;"></a><a href='https://www.linkedin.com/in/segiddins' rel="me" class='symbol' title='&#xe052;'></a></div></section></section></div><div class="source-og copyright"><span>Â© 2012-2024 </span><a href="//segiddins.me">Samuel Giddins</a></div></footer></div></body></html>