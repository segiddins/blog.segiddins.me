<!DOCTYPE html><html lang="en-en"><head><title>Samuel E. Giddins</title><meta charset="utf-8" /><meta content="samuel giddins" name="keywords" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="" name="description" /><meta content="" name="author" /><meta content="True" name="HandheldFriendly" /><meta content="320" name="MobileOptimized" /><link href="../../../../stylesheets/app.css" rel="stylesheet" type="text/css" /><script src="../../../../scripts/app.js" type="text/javascript"></script></head><body class="home blog"><div id="container"><header class="header"><div class="wrap clearfix" id="inner-header"><div class="h1" id="site-title"><a href="//segiddins.me" rel="nofollow">Samuel E. Giddins</a></div><div id="site-description"><h2>UChicago 2018. Realm. CocoaPods. Bundler.</h2></div><section class="social wrap"><div><a class="symbol" href="https://github.com/segiddins" rel="me" title="&#xe036;"></a><a class="symbol" href="mailto:segiddins@segiddins.me" rel="me" title="&#xe024;"></a><a class="symbol" href="tel:9178873993" rel="me" title="&#xe049;"></a><a href='https://twitter.com/segiddins' rel="me" class='symbol' title='&#xe086;'></a><a href='https://linkedin.com/in/segiddins' rel="me" class='symbol' title='&#xe052;'></a></div></section><nav id="site-navigation"><ul><li><a href="//segiddins.me">About Me</a></li><li><a href="//blog.segiddins.me">Blog</a></li><li><a href="//blog.segiddins.me/rss">RSS</a></li></ul></nav></div></header><article class="wrap hentry clearfix"><header class="article-header"><h1 class="h2"><h2 class="h2"><a href="/2014/10/05/why-i-never-write-singletons/" title="Why I Never Write Singletons">Why I Never Write Singletons</a></h2></h1><p class="byline vcard"><span>By </span><span class="author">Samuel E. Giddins</span><span> on </span><time class="updated">Sunday October 5th, 2014</time></p></header><section class="entry-content clearfix"><p>There&rsquo;s been a rash of discussion about singleton use on Twitter in the past few days, largely between <a href="https://twitter.com/indragie">@indragie</a> and <a href="https://twitter.com/mattt">@mattt</a>. I want to throw my 2¢ into the ring, squarely on the <em>anti-</em>singeton side.</p>



<p>I can&rsquo;t stand the use of <em>explicit</em> singletons because they make class dependency graphs hidden inside their implementations, rather than explicit via publically declared properties. In doing so, any class becomes allowed to pull in any other part of your application&rsquo;s stack and use it, meaning classes will easily snake their way into all corners of your system. Take my word for it: that means <strong>hell</strong>.</p>

<p>Sure, your application might not ever create more than one instance of a given class <em>right now</em>, and sure, that instance might effectively share a lifetime in common with your application as a whole. But are those things you ever want to depend upon? <strong><em>NO</em></strong>. Use dependency injection and pass instances along to the objects that use them. Don&rsquo;t do that just because it makes testing easier (it does) or because it makes your headers more descriptive (it really and truly does).</p>

<p>Instead, avoid explicit singletons because they make your codebase <em>incredibly brittle</em>. They couple your interaction and instantiation models in such a way that your application flow becomes assumed all over the place. They also set in stone conditions that <em>might</em> be presently true, and ensure that it&rsquo;ll be a nightmare for them to ever change.</p>

<hr>

<p>Now, back to the title of this post: why I never <em>write</em> singletons. Singletons are abound in the Cocoa world, but that doesn&rsquo;t mean we have to treat them as singletons (everything I wrote above holds for <code>UIApplication</code>, <code>NSFileManager</code>, <code>NSNotificationCenter</code>, <code>NSPersistantStore</code>, etc.). </p>

<p>I don&rsquo;t ever write shared global accessor methods for my objects (any more), since it tempts me to presume that some random component of my application is perfectly justified in accessing a <code>sharedInstance</code> of whatever class. That temptation is very real, but it&rsquo;s a temptation that, with experience, I know is <em>never</em> worth it.</p>

<p>Global state is inherent in the application programming environment we use, right down to the hardware, but we never need to presume that there&rsquo;s a &lsquo;singleton&rsquo; of anything. Imagine if the authors of schedulers said &#39;oh, there will <em>never</em> be more than one core for processes to execute on&rsquo;. Probably sounded reasonable at some point, but it, of course, turned out to be a completely invalid assumption. Just create instances where appropriate and pass them along.</p>

<p>This is definitely a case where <code>sharing != caring</code>.</p>
</section><footer class="article-footer"></footer></article><footer class="container footer"><div class="clearfix" id="inner-footer"><section class="recent wrap sevencol first clearfix"><nav class="pagination"><a class="newer-posts" href="/2014/09/27/class-methods/">&larr; Previous</a><span class="page-number">Page 34 of 43</span><a class="older-posts" href="/2014/12/02/realm/">Next &rarr;</a><p><a href="//blog.segiddins.me/archive">Archive</a></p></nav></section><section class="sidebar fivecol clearfix"><header class="sidebar-header"><h3>Samuel E. Giddins</h3><h4>UChicago 2018. Realm. CocoaPods. Bundler.</h4></header><nav class="sidebar-menu vertical"><ul><li><a href="//segiddins.me">About Me</a><span> | </span></li><li><a href="//blog.segiddins.me">Blog</a><span> | </span></li><li><a href="//blog.segiddins.me/rss">RSS</a></li></ul></nav><section class="social wrap"><div><a class="symbol" href="https://github.com/segiddins" rel="me" title="&#xe036;"></a><a class="symbol" href="mailto:segiddins@segiddins.me" rel="me" title="&#xe024;"></a><a class="symbol" href="tel:9178873993" rel="me" title="&#xe049;"></a><a href='https://twitter.com/segiddins' rel="me" class='symbol' title='&#xe086;'></a><a href='https://linkedin.com/in/segiddins' rel="me" class='symbol' title='&#xe052;'></a></div></section></section></div><div class="source-og copyright"><span>© 2012-2015 </span><a href="//segiddins.me">Samuel E. Giddins</a></div></footer></div></body></html>